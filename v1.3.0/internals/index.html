<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internals · DocumenterCitations.jl</title><meta name="title" content="Internals · DocumenterCitations.jl"/><meta property="og:title" content="Internals · DocumenterCitations.jl"/><meta property="twitter:title" content="Internals · DocumenterCitations.jl"/><meta name="description" content="Documentation for DocumenterCitations.jl."/><meta property="og:description" content="Documentation for DocumenterCitations.jl."/><meta property="twitter:description" content="Documentation for DocumenterCitations.jl."/><meta property="og:url" content="https://juliadocs.github.io/DocumenterCitations.jl/internals/"/><meta property="twitter:url" content="https://juliadocs.github.io/DocumenterCitations.jl/internals/"/><link rel="canonical" href="https://juliadocs.github.io/DocumenterCitations.jl/internals/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/citations.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DocumenterCitations.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../syntax/">Syntax</a></li><li><a class="tocitem" href="../gallery/">Citation Style Gallery</a></li><li><a class="tocitem" href="../styling/">CSS Styling</a></li><li class="is-active"><a class="tocitem" href>Internals</a><ul class="internal"><li><a class="tocitem" href="#Citation-Pipeline"><span>Citation Pipeline</span></a></li><li><a class="tocitem" href="#customization"><span>Customization</span></a></li><li><a class="tocitem" href="#Debugging"><span>Debugging</span></a></li></ul></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Internals</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Internals</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDocs/DocumenterCitations.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/master/docs/src/internals.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Internals"><a class="docs-heading-anchor" href="#Internals">Internals</a><a id="Internals-1"></a><a class="docs-heading-anchor-permalink" href="#Internals" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.CitationBibliography" href="#DocumenterCitations.CitationBibliography"><code>DocumenterCitations.CitationBibliography</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Plugin for enabling bibliographic citations in Documenter.jl.</p><pre><code class="language-julia hljs">bib = CitationBibliography(bibfile; style=:numeric)</code></pre><p>instantiates a plugin object that must be passed as an element of the <code>plugins</code> keyword argument to <a href="https://documenter.juliadocs.org/stable/lib/public/#Documenter.makedocs"><code>Documenter.makedocs</code></a>.</p><p><strong>Arguments</strong></p><ul><li><code>bibfile</code>: the name of the <a href="https://www.bibtex.com/g/bibtex-format/">BibTeX</a> file from which to read the data.</li><li><code>style</code>: the style to use for the bibliography and all citations. The available built-in styles are <code>:numeric</code> (default), <code>:authoryear</code>, and <code>:alpha</code>. With user-defined styles, this may be an arbitrary name or object.</li></ul><p><strong>Internal fields</strong></p><p>The following internal fields are used by the citation pipeline steps. These should not be considered part of the stable API.</p><ul><li><code>entries</code>: dict of citation keys to entries in <code>bibfile</code></li><li><code>citations</code>: ordered dict of citation key to citation number</li><li><code>page_citations</code>: dict of page file name to set of citation keys cited on page.</li><li><code>anchor_map</code>: an <a href="https://documenter.juliadocs.org/stable/lib/internals/anchors/#Documenter.AnchorMap"><code>AnchorMap</code></a> object that keeps track of the link anchors for references in bibliography blocks</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/DocumenterCitations.jl#L22-L52">source</a></section></article><h2 id="Citation-Pipeline"><a class="docs-heading-anchor" href="#Citation-Pipeline">Citation Pipeline</a><a id="Citation-Pipeline-1"></a><a class="docs-heading-anchor-permalink" href="#Citation-Pipeline" title="Permalink"></a></h2><p>The <a href="#DocumenterCitations.CitationBibliography"><code>DocumenterCitations.CitationBibliography</code></a> plugin hooks into the <a href="https://documenter.juliadocs.org/stable/lib/internals/builder/#Documenter.Builder.DocumentPipeline"><code>Documenter.Builder.DocumentPipeline</code></a><sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup> between <a href="https://documenter.juliadocs.org/stable/lib/internals/builder/#Documenter.Builder.ExpandTemplates"><code>ExpandTemplates</code></a> (which expands <code>@docs</code> blocks) and <a href="https://documenter.juliadocs.org/stable/lib/internals/builder/#Documenter.Builder.CrossReferences"><code>CrossReferences</code></a>. The plugin adds the following three steps:</p><ol><li><a href="#DocumenterCitations.CollectCitations"><code>CollectCitations</code></a></li><li><a href="#DocumenterCitations.ExpandBibliography"><code>ExpandBibliography</code></a></li><li><a href="#DocumenterCitations.ExpandCitations"><code>ExpandCitations</code></a></li></ol><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.CollectCitations" href="#DocumenterCitations.CollectCitations"><code>DocumenterCitations.CollectCitations</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Pipeline step to collect citations from all pages.</p><p>It walks all pages in the order they appear in the navigation bar, looking for <code>@cite</code> links. It fills the <code>citations</code> and <code>page_citations</code> attributes of the internal <a href="#DocumenterCitations.CitationBibliography"><code>CitationBibliography</code></a> object.</p><p>Thus, the order in which <code>CollectCitations</code> encounters citations determines the numerical key that will appear in the rendered documentation (see <a href="#DocumenterCitations.ExpandBibliography"><code>ExpandBibliography</code></a> and <a href="#DocumenterCitations.ExpandCitations"><code>ExpandCitations</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/collect_citations.jl#L6-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.ExpandBibliography" href="#DocumenterCitations.ExpandBibliography"><code>DocumenterCitations.ExpandBibliography</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Pipeline step to expand all <code>@bibliography</code> blocks.</p><p>Runs after <a href="#DocumenterCitations.CollectCitations"><code>CollectCitations</code></a> but before <a href="#DocumenterCitations.ExpandCitations"><code>ExpandCitations</code></a>.</p><p>Each bibliography is rendered into HTML as a a <a href="https://www.w3schools.com/tags/tag_dl.asp">definition list</a>, a <a href="https://www.w3schools.com/tags/tag_ul.asp">bullet list</a>, or an <a href="https://www.w3schools.com/tags/tag_ol.asp">enumeration</a> depending on <a href="#DocumenterCitations.bib_html_list_style"><code>bib_html_list_style</code></a>.</p><p>For a definition list, the label for each list item is rendered via <a href="#DocumenterCitations.format_bibliography_label"><code>format_bibliography_label</code></a> and the full bibliographic reference is rendered via <a href="#DocumenterCitations.format_bibliography_reference"><code>format_bibliography_reference</code></a>.</p><p>For bullet lists or enumerations, <a href="#DocumenterCitations.format_bibliography_label"><code>format_bibliography_label</code></a> is not used and <a href="#DocumenterCitations.format_bibliography_reference"><code>format_bibliography_reference</code></a> fully determines the entry.</p><p>The order of the entries in the bibliography is determined by the <a href="#DocumenterCitations.bib_sorting"><code>bib_sorting</code></a> method for the chosen citation style.</p><p>The <code>ExpandBibliography</code> step runs <a href="#DocumenterCitations.init_bibliography!"><code>init_bibliography!</code></a> before expanding the first <code>@bibliography</code> block.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/expand_bibliography.jl#L1-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.ExpandCitations" href="#DocumenterCitations.ExpandCitations"><code>DocumenterCitations.ExpandCitations</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Pipeline step to expand all <code>@cite</code> citations.</p><p>This runs after <a href="#DocumenterCitations.ExpandBibliography"><code>ExpandBibliography</code></a>, as it relies on the link targets in the expanded <code>@bibliography</code> blocks.</p><p>All citations are formatted using <a href="#DocumenterCitations.format_citation"><code>format_citation</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/expand_citations.jl#L6-L13">source</a></section></article><h2 id="customization"><a class="docs-heading-anchor" href="#customization">Customization</a><a id="customization-1"></a><a class="docs-heading-anchor-permalink" href="#customization" title="Permalink"></a></h2><p>A custom style can be created by defining methods for the functions listed below that specialize for a user-defined <code>style</code> argument to <a href="#DocumenterCitations.CitationBibliography"><code>CitationBibliography</code></a>. If the <code>style</code> is identified by a simple name, e.g. <code>:mystyle</code>, the methods should specialize on <code>Val{:mystyle}</code>, see the <a href="../gallery/#custom_styles">examples for custom styles</a>. Beyond that, e.g., if the <code>style</code> needs to implement options or needs to maintain internal state to manage unique citation labels, <code>style</code> can be an object of a custom type. The builtin <a href="../gallery/#DocumenterCitations.AlphaStyle"><code>DocumenterCitations.AlphaStyle</code></a> is an example for such a &quot;stateful&quot;  style, initialized via a custom <a href="#DocumenterCitations.init_bibliography!"><code>init_bibliography!</code></a> method.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.bib_html_list_style" href="#DocumenterCitations.bib_html_list_style"><code>DocumenterCitations.bib_html_list_style</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Identify the type of HTML list associated with a bibliographic style.</p><pre><code class="language-julia hljs">bib_html_list_style(style)</code></pre><p>must return one of</p><ul><li><code>:dl</code> (definition list),</li><li><code>:ul</code> (unordered / bullet list), or</li><li><code>:ol</code> (ordered list / enumeration),</li></ul><p>for any <code>style</code> that <a href="#DocumenterCitations.CitationBibliography"><code>CitationBibliography</code></a> is instantiated with.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/expand_bibliography.jl#L132-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.bib_sorting" href="#DocumenterCitations.bib_sorting"><code>DocumenterCitations.bib_sorting</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Identify the sorting associated with a bibliographic style.</p><pre><code class="nohighlight hljs">bib_sorting(style)</code></pre><p>must return <code>:citation</code> or any of the <code>sorting_rules</code> accepted by <a href="https://humans-of-julia.github.io/Bibliography.jl/dev/#Bibliography.sort_bibliography!"><code>Bibliography.sort_bibliography!</code></a>, e.g. <code>:nyt</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/expand_bibliography.jl#L149-L159">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.format_bibliography_label" href="#DocumenterCitations.format_bibliography_label"><code>DocumenterCitations.format_bibliography_label</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Format the label for an entry in a <code>@bibliography</code> block.</p><pre><code class="language-julia hljs">mdstr = format_bibliography_label(style, entry, citations)</code></pre><p>produces a plain text (technically, markdown) string for the label in the bibliography for the given <a href="https://humans-of-julia.github.io/Bibliography.jl/stable/internal/#BibInternal.Entry"><code>Bibliography.Entry</code></a>. The <code>citations</code> argument is a dict that maps citation keys (<code>entry.id</code>) to the order in which citations appear in the documentation, i.e., a numeric citation key.</p><p>For the default <code>style=:numeric</code>, this returns a label that is the numeric citation key in square brackets, cf. <a href="#DocumenterCitations.format_citation"><code>format_citation</code></a>. In general, this function is used only if <a href="#DocumenterCitations.bib_html_list_style"><code>bib_html_list_style</code></a> returns <code>:dl</code> for the given <code>style</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/expand_bibliography.jl#L108-L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.format_bibliography_reference" href="#DocumenterCitations.format_bibliography_reference"><code>DocumenterCitations.format_bibliography_reference</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Format the full reference for an entry in a <code>@bibliography</code> block.</p><pre><code class="language-julia hljs">mdstr = format_bibliography_reference(style, entry)</code></pre><p>produces a markdown string for the full reference of a <a href="https://humans-of-julia.github.io/Bibliography.jl/stable/internal/#BibInternal.Entry"><code>Bibliography.Entry</code></a>. For the default <code>style=:numeric</code>, the result is formatted like in <a href="https://www.ctan.org/tex-archive/macros/latex/contrib/revtex/auguide">REVTeX</a> and <a href="https://journals.aps.org">APS journals</a>. That is, the full list of authors with initials for the first names, the italicized tile, and the journal reference (linking to the DOI, if available), ending with the publication year in parenthesis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/expand_bibliography.jl#L86-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.format_citation" href="#DocumenterCitations.format_citation"><code>DocumenterCitations.format_citation</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Expand a <a href="#DocumenterCitations.CitationLink"><code>CitationLink</code></a> into style-specific markdown code.</p><pre><code class="language-julia hljs">md_text = format_citation(style, cit, entries, citations)</code></pre><p>returns a string of markdown code that replaces the original citation link, rendering it for the given <code>style</code>. The resulting markdown code should make use of direct citation links (cf. <a href="#DocumenterCitations.DirectCitationLink"><code>DirectCitationLink</code></a>).</p><p>For example, for the default style,</p><pre><code class="language-julia hljs">using DocumenterCitations: format_citation, CitationLink, example_bibfile
using Bibliography

cit = CitationLink(&quot;[BrifNJP2010, Shapiro2012; and references therein](@cite)&quot;)
entries = Bibliography.import_bibtex(example_bibfile)
citations = Dict(&quot;BrifNJP2010&quot; =&gt; 1, &quot;Shapiro2012&quot; =&gt; 2)

format_citation(:numeric, cit, entries, citations)

# output

&quot;[[1](@cite BrifNJP2010), [2](@cite Shapiro2012), and references therein]&quot;</code></pre><p><strong>Arguments</strong></p><ul><li><code>style</code>: The style  to render the citation in, as passed to <a href="#DocumenterCitations.CitationBibliography"><code>CitationBibliography</code></a></li><li><code>cit</code>: A <a href="#DocumenterCitations.CitationLink"><code>CitationLink</code></a> instance representing the original citation link</li><li><code>entries</code>: A dict mapping citations <code>keys</code> to a <a href="https://humans-of-julia.github.io/Bibliography.jl/stable/internal/#BibInternal.Entry"><code>Bibliography.Entry</code></a></li><li><code>citations</code>: A dict mapping that maps citation keys to the order in which citations appear in the documentation, i.e., a numeric citation index.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/expand_citations.jl#L50-L88">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.init_bibliography!" href="#DocumenterCitations.init_bibliography!"><code>DocumenterCitations.init_bibliography!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Initialize any internal state for rendering the bibliography.</p><pre><code class="language-julia hljs">init_bibliography!(style, bib)</code></pre><p>is called at the beginning of the <a href="#DocumenterCitations.ExpandBibliography"><code>ExpandBibliography</code></a> pipeline step. It may mutate internal fields of <code>style</code> or <code>bib</code> to prepare for the rendering of bibliography blocks.</p><p>For the default style, this does nothing.</p><p>For, e.g., <a href="../gallery/#DocumenterCitations.AlphaStyle"><code>AlphaStyle</code></a>, the call to <code>init_bibliography!</code> determines the citation labels, by generating unique suffixed labels for all the entries in the underlying <code>.bib</code> file (<code>bib.entries</code>), and storing the result in an internal attribute of the <code>style</code> object.</p><p>Custom styles may implement a new method for <code>init_bibliography!</code> for similar purposes. It can be assumed that all the internal fields of the <a href="#DocumenterCitations.CitationBibliography"><code>CitationBibliography</code></a> <code>bib</code> object are up-to-date according to the citations seen by the earlier <a href="#DocumenterCitations.CollectCitations"><code>CollectCitations</code></a> step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/expand_bibliography.jl#L56-L78">source</a></section></article><h3 id="Auxiliary-customization-routines"><a class="docs-heading-anchor" href="#Auxiliary-customization-routines">Auxiliary customization routines</a><a id="Auxiliary-customization-routines-1"></a><a class="docs-heading-anchor-permalink" href="#Auxiliary-customization-routines" title="Permalink"></a></h3><p>The following routines are used by the default styles to implement specific formatting. They may be reused by custom styles.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.format_labeled_citation" href="#DocumenterCitations.format_labeled_citation"><code>DocumenterCitations.format_labeled_citation</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Format a citation as in a &quot;labeled&quot; style.</p><pre><code class="language-julia hljs">md = format_labeled_citation(
    style, cit, entries, citations;
    sort_and_collapse=true,
    brackets=&quot;[]&quot;,
    names=:lastonly,
    notfound=&quot;?&quot;,
)</code></pre><p>may be used when implementing <a href="#DocumenterCitations.format_citation"><code>format_citation</code></a> for custom styles, to render the given <a href="#DocumenterCitations.CitationLink"><code>CitationLink</code></a> object <code>cit</code> in a format similar to the built-in <code>:numeric</code> and <code>:alpha</code> styles.</p><p><strong>Options</strong></p><ul><li><code>sort_and_collapse</code>: whether to sort and collapse combined citations, e.g. <code>[1-3]</code> instead of <code>[2,1,3]</code>. Not applicable to <code>@citet</code>.</li><li><code>brackets</code>: characters to use to enclose citation labels</li><li><code>namesfmt</code>: How to format the author names in <code>@citet</code> (<code>:full</code>, <code>:last</code>, <code>:lastonly</code>)</li><li><code>notfound</code>: citation label to use for a citation to a non-existing entry</li></ul><p>Beyond the above options, defining a custom <a href="#DocumenterCitations.citation_label"><code>citation_label</code></a> method for the <code>style</code> controls the label to be used (e.g., the citation number for the default <code>:numeric</code> style.)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/labeled_styles_utils.jl#L5-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.format_authoryear_citation" href="#DocumenterCitations.format_authoryear_citation"><code>DocumenterCitations.format_authoryear_citation</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Format a citation as in the <code>:authoryear</code> style.</p><pre><code class="language-julia hljs">md = format_authoryear_citation(
    style, cit, entries, citations;
    empty_names=&quot;Anonymous&quot;,
    empty_year=&quot;undated&quot;,
    parenthesis=&quot;()&quot;,
    notfound=&quot;???&quot;,
)</code></pre><p>may be used when implementing <a href="#DocumenterCitations.format_citation"><code>format_citation</code></a> for custom styles, to render the given <a href="#DocumenterCitations.CitationLink"><code>CitationLink</code></a> object <code>cit</code> in a format similar to the built-in <code>:authoryear</code> style.</p><p><strong>Options</strong></p><ul><li><code>namesfmt</code>: How to format the author names (<code>:full</code>, <code>:last</code>, <code>:lastonly</code>)</li><li><code>empty_names</code>: String to use as &quot;author&quot; when the entry defines no author</li><li><code>empty_year</code>: String to use as &quot;year&quot; when the entry defines no year</li><li><code>parenthesis</code>: The parenthesis symbols to use for <code>@cite</code>/<code>@citep</code></li><li><code>notfound</code>: How to render a citation without a corresponding entry</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/styles/authoryear.jl#L8-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.citation_label" href="#DocumenterCitations.citation_label"><code>DocumenterCitations.citation_label</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Return a citation label.</p><pre><code class="language-julia hljs">label = citation_label(style, entry, citations; notfound=&quot;?&quot;)</code></pre><p>returns the label used in citations and the bibliography for the given entry in the given style. Used by <a href="#DocumenterCitations.format_labeled_citation"><code>format_labeled_citation</code></a>, and thus by the built-in styles <code>:numeric</code> and <code>:alpha</code>.</p><p>For the default <code>:numeric</code> style, this returns the citation number (as found by looking up <code>entry.id</code> in the <code>citations</code> dict) as a string.</p><p>May return <code>notfound</code> if the citation label cannot be determined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/labeled_styles_utils.jl#L199-L214">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.format_labeled_bibliography_reference" href="#DocumenterCitations.format_labeled_bibliography_reference"><code>DocumenterCitations.format_labeled_bibliography_reference</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Format a bibliography reference as in a &quot;labeled&quot; style.</p><pre><code class="language-julia hljs">mdstr = format_labeled_bibliography_reference(
    style, entry;
    namesfmt=:last,
    urldate_accessed_on=&quot;Accessed on &quot;,
    urldate_fmt=dateformat&quot;u d, Y&quot;,
    title_transform_case=(s-&gt;s),
)</code></pre><p><strong>Options</strong></p><ul><li><code>namesfmt</code>: How to format the author names (<code>:full</code>, <code>:last</code>, <code>:lastonly</code>)</li><li><code>urldate_accessed_on</code>: The prefix for a rendered <code>urldate</code> field.</li><li><code>urldate_fmt</code>: The format in which to render an <code>urldate</code> field.</li><li><code>title_transform_case</code>: A function that transforms the case of a Title (Booktitle, Series) field. Strings enclosed in braces are protected from the transformation.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/labeled_styles_utils.jl#L217-L238">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.format_authoryear_bibliography_reference" href="#DocumenterCitations.format_authoryear_bibliography_reference"><code>DocumenterCitations.format_authoryear_bibliography_reference</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Format a bibliography reference as for the <code>:authoryear</code> style.</p><pre><code class="language-julia hljs">mdstr = format_authoryear_bibliography_reference(
    style, entry;
    namesfmt=:lastfirst,
    empty_names=&quot;—&quot;,
    urldate_accessed_on=&quot;Accessed on &quot;,
    urldate_fmt=dateformat&quot;u d, Y&quot;,
    title_transform_case=(s-&gt;s),
)</code></pre><p><strong>Options</strong></p><ul><li><code>namesfmt</code>: How to format the author names (<code>:full</code>, <code>:last</code>, <code>:lastonly</code>)</li><li><code>empty_names</code>: String to use in place of the authors if there are no authors</li><li><code>urldate_accessed_on</code>: The prefix for a rendered <code>urldate</code> field.</li><li><code>urldate_fmt</code>: The format in which to render an <code>urldate</code> field.</li><li><code>title_transform_case</code>: A function that transforms the case of a Title (Booktitle, Series) field. Strings enclosed in braces are protected from the transformation.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/styles/authoryear.jl#L108-L131">source</a></section></article><h3 id="Customizing-LaTeX-output"><a class="docs-heading-anchor" href="#Customizing-LaTeX-output">Customizing LaTeX output</a><a id="Customizing-LaTeX-output-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-LaTeX-output" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.set_latex_options" href="#DocumenterCitations.set_latex_options"><code>DocumenterCitations.set_latex_options</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Set options for how bibliographies are written via <code>Documenter.LaTeXWriter</code>.</p><pre><code class="language-julia hljs">DocumenterCitations.set_latex_options(; options...)</code></pre><p>Valid options that can be passed as keyword arguments are:</p><ul><li><code>ul_as_hanging</code>: If <code>true</code> (default), format unordered bibliography lists (<code>:ul</code> returned by <a href="#DocumenterCitations.bib_html_list_style"><code>DocumenterCitations.bib_html_list_style</code></a>) as a list of paragraphs with hanging indent. This matches the recommended CSS styling for HTML <code>:ul</code> bibliographies, see <a href="../styling/#CSS-Styling">CSS Styling</a>. If <code>false</code>, the bibliography will be rendered as a standard bulleted list.</li><li><code>ul_hangindent</code>: If <code>ul_as_hanging=true</code>, the amount of hanging indent. Must  be a string that specifies a valid  <a href="https://www.overleaf.com/learn/latex/Lengths_in_LaTeX">LaTeX length</a>,  e.g., <code>&quot;0.33in&quot;</code></li><li><code>dl_hangindent</code> : Bibliographies that should render as &quot;definition lists&quot; (<code>:dl</code> returned by <a href="#DocumenterCitations.bib_html_list_style"><code>DocumenterCitations.bib_html_list_style</code></a>) are emulated as a list of paragraphs with a fixed label width and hanging indent. The amount of hanging indent is specified with <code>dl_hangindent</code>, cf. <code>ul_hangindent</code>.</li><li><code>dl_labelwidth</code> : The minimum width to use for the &quot;label&quot; in a bibliography rendered in the <code>:dl</code> style.</li><li><code>bib_blockformat</code>: A LaTeX format command to apply for a bibliography block.  Defaults to <code>&quot;\raggedright&quot;</code>, which avoids hyphenation within the  bibliography. If set to an empty string, let LaTeX decide the default, which  will generally result in fully justified text, with hyphenation.</li></ul><p>These should be considered experimental and not part of the the stable API.</p><p>Options that are not specified remain unchanged from the defaults, respectively a previous call to <code>set_latex_options</code>.</p><p>For bibliography blocks rendered in a <code>:dl</code> style, setting <code>dl_hangindent</code> and <code>dl_labelwidth</code> to the same value (slightly larger than the width of the longest label) produces results similar to the recommended styling in HTML, see <a href="../styling/#CSS-Styling">CSS Styling</a>. For very long citation labels, it may look better to have a smaller <code>dl_hangindent</code>.</p><p>Throws an <code>ArgumentError</code> if called with invalid options.</p><p>The defaults can be reset with <a href="#DocumenterCitations.reset_latex_options"><code>DocumenterCitations.reset_latex_options</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/latex_options.jl#L34-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.reset_latex_options" href="#DocumenterCitations.reset_latex_options"><code>DocumenterCitations.reset_latex_options</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Reset the options for how bibliographies are written in LaTeX.</p><pre><code class="language-julia hljs">DocumenterCitations.reset_latex_options()</code></pre><p>is equivalent to the following call to <a href="#DocumenterCitations.set_latex_options"><code>set_latex_options</code></a>:</p><pre><code class="language-julia hljs">set_latex_options(;
    ul_as_hanging=true,
    ul_hangindent=&quot;0.33in&quot;,
    dl_hangindent=&quot;0.33in&quot;,
    dl_labelwidth=&quot;0.33in&quot;,
    bib_blockformat=&quot;\raggedright&quot;,
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/latex_options.jl#L5-L23">source</a></section></article><h3 id="Citation-links"><a class="docs-heading-anchor" href="#Citation-links">Citation links</a><a id="Citation-links-1"></a><a class="docs-heading-anchor-permalink" href="#Citation-links" title="Permalink"></a></h3><p>The standard citation links described in <a href="../syntax/#Syntax">Syntax</a> are internally parsed into the <a href="#DocumenterCitations.CitationLink"><code>DocumenterCitations.CitationLink</code></a> data structure:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.CitationLink" href="#DocumenterCitations.CitationLink"><code>DocumenterCitations.CitationLink</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Data structure representing a general (non-direct) citation link.</p><pre><code class="language-julia hljs">cit = CitationLink(link)</code></pre><p>parses the given <code>link</code> string, e.g. <code>&quot;[GoerzQ2022](@cite)&quot;</code>.</p><p><strong>Attributes</strong></p><ul><li><code>node</code>: The <code>MarkdownAST.Node</code> that <code>link</code> parses into</li><li><code>keys</code>: A list of BibTeX keys being cited. e.g., <code>[&quot;BrumerShapiro2003&quot;, &quot;BrifNJP2010&quot;]</code> for the citation <code>&quot;[BrumerShapiro2003,BrifNJP2010; and references therein][@cite]&quot;</code></li><li><code>cmd</code>: The citation command, one of <code>:cite</code>, <code>:citet</code>, <code>:citep</code>, or (unsupported in the default styles) <code>:citealt</code>, <code>:citealp</code>, <code>:citenum</code>. Note that, e.g., <code>&quot;[Goerz@2022](@Citet*)&quot;</code> results in <code>cite_cmd=:citet</code></li><li><code>note</code>: A citation note, e.g. &quot;Eq. (1)&quot; in <code>[GoerzQ2022; Eq. (1)](@cite)</code></li><li><code>capitalize</code>: Whether the citation should be formatted to appear at the start of a sentence, as indicated by a capitalized <code>@Cite...</code> command, e.g., <code>&quot;[GoerzQ2022](@Citet)&quot;</code></li><li><code>starred</code>: Whether the citation should be rendered in &quot;extended&quot; form, i.e., with the full list of authors, as indicated by a <code>*</code> in the citation, e.g., <code>&quot;[Goerz@2022](@Citet*)&quot;</code></li></ul><p><strong>See also</strong></p><ul><li><a href="#DocumenterCitations.DirectCitationLink"><code>DirectCitationLink</code></a> – data structure for direct citation links of the form <code>[text](@cite key)</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/citation_link.jl#L13-L43">source</a></section></article><p>Note the this does not include direct citation links such as <code>[the Semi-AD paper](@cite GoerzQ2022)</code>, which are instead parsed into <a href="#DocumenterCitations.DirectCitationLink"><code>DocumenterCitations.DirectCitationLink</code></a>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DocumenterCitations.DirectCitationLink" href="#DocumenterCitations.DirectCitationLink"><code>DocumenterCitations.DirectCitationLink</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Data structure representing a direct citation link.</p><pre><code class="language-julia hljs">cit = DirectCitationLink(link)</code></pre><p>parses the given <code>link</code> string of the form <code>[text](@cite key)</code>.</p><p><strong>Attributes</strong></p><ul><li><code>node</code>: The <code>MarkdownAST.Node</code> that <code>link</code> parses into</li><li><code>key</code>: The BibTeX key being cited. Note that unlike <a href="#DocumenterCitations.CitationLink"><code>CitationLink</code></a>, a <code>DirectCitationLink</code> can only reference a single key</li></ul><p><strong>See also</strong></p><ul><li><a href="#DocumenterCitations.CitationLink"><code>CitationLink</code></a> – data structure for non-direct citation links.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDocs/DocumenterCitations.jl/blob/376e06283f9284001d7f91bc15165b294d9ea3a0/src/citation_link.jl#L74-L92">source</a></section></article><h2 id="Debugging"><a class="docs-heading-anchor" href="#Debugging">Debugging</a><a id="Debugging-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging" title="Permalink"></a></h2><p>Set the environment variable <code>JULIA_DEBUG=Documenter,DocumenterCitations</code> before generating the documentation.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>See the documentation of <a href="https://documenter.juliadocs.org/stable/lib/internals/selectors/#Documenter.Selectors"><code>Documenter.Selectors</code></a> for an explanation of Documenter&#39;s pipeline concept.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../styling/">« CSS Styling</a><a class="docs-footer-nextpage" href="../references/">References »</a><div class="flexbox-break"></div><p class="footer-message"><a href="https://github.com/JuliaDocs/DocumenterCitations.jl">DocumenterCitations.jl</a> v1.3.0 docs powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Wednesday 1 November 2023 05:43">Wednesday 1 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
